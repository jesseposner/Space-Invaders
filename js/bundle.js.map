{"version":3,"sources":["webpack:///webpack/bootstrap 8805c1075712f92fd97c","webpack:///./js/invaders.js","webpack:///./js/resources.js","webpack:///./js/state.js","webpack:///./js/sprite.js","webpack:///./js/starfield.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;AC3GA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,+CAA8C,QAAQ,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;;;;;;ACrDA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8805c1075712f92fd97c\n **/","var Resources = require('./resources.js'),\n    State = require('./state.js'),\n    Sprite = require('./sprite.js'),\n    Starfield = require('./starfield.js'),\n    enemySpeed = 100;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  var canvas = document.createElement(\"canvas\");\n  var ctx = canvas.getContext(\"2d\");\n  canvas.width = 512;\n  canvas.height = 480;\n  document.body.appendChild(canvas);\n\n  Resources.load([\n    'img/ufos.png'\n  ]);\n  Resources.onReady(init.bind(null, ctx, canvas));\n});\n\nfunction requestAnimFrame(callback) {\n  return window.requestAnimationFrame(callback)        ||\n         window.webkitRequestAnimationFrame(callback)  ||\n         window.mozRequestAnimationFrame(callback)     ||\n         window.oRequestAnimationFrame(callback)       ||\n         window.msRequestAnimationFrame(callback)      ||\n         window.setTimeout(callback, 1000 / 60);\n}\n\nfunction init(ctx, canvas) {\n  var lastTime = Date.now(),\n  starField = new Starfield();\n\n  main(ctx, canvas, lastTime, starField);\n}\n\nfunction main(ctx, canvas, lastTime, starField) {\n  var now = Date.now();\n  var dt = (now - lastTime) / 1000.0;\n\n  update(dt, canvas, starField);\n  render(ctx, canvas, starField);\n\n  lastTime = now;\n  requestAnimFrame(main.bind(null, ctx, canvas, lastTime, starField));\n}\n\nfunction render(ctx, canvas, starField) {\n  ctx.fillStyle = '#000000';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  ctx.fillStyle = '#ffffff';\n  starField.stars.forEach(function (star) {\n    ctx.fillRect(star.x, star.y, star.size, star.size);\n  });\n\n  State.enemies.forEach(function (enemy) {\n    renderEntity(enemy, ctx);\n  });\n}\n\nfunction renderEntity(entity, ctx) {\n  ctx.save();\n  ctx.translate(entity.pos[0], entity.pos[1]);\n  entity.sprite.render(ctx);\n  ctx.restore();\n}\n\nfunction update(dt, canvas, starField) {\n  State.gameTime += dt;\n\n  updateEntities(dt);\n  updateStarfield(dt, starField);\n\n  if (Math.random() < .02) {\n    State.enemies.push({\n      pos: [canvas.width,\n            Math.random() * (canvas.height - 39)],\n      sprite: new Sprite('img/ufos.png', [0, 0], [64.7, 64],\n                         20, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])\n    });\n  }\n}\n\nfunction updateEntities(dt) {\n  State.enemies.forEach(function functionName(enemy, index) {\n    enemy.pos[0] -= enemySpeed * dt;\n    enemy.sprite.update(dt);\n\n    if(enemy.pos[0] + enemy.sprite.size[0] < 0) {\n      State.enemies.splice(index, 1);\n    }\n  });\n}\n\nfunction updateStarfield(dt, starField) {\n  starField.stars.forEach(function (star) {\n    star.y += dt * star.velocity;\n\n    if (star.y > starField.height) {\n      star.x = Math.random() * starField.width;\n      star.y = 0;\n      star.size = (Math.random() * 3) + 1;\n      star.velocity = (Math.random() *\n        (starField.maxVelocity - starField.minVelocity)) +\n          starField.minVelocity;\n     }\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/invaders.js\n ** module id = 0\n ** module chunks = 0\n **/","var resourceCache = {};\nvar loading = [];\nvar readyCallbacks = [];\n\nfunction _load(url) {\n  if (resourceCache[url]) {\n   return resourceCache[url];\n  } else {\n   var img = new Image();\n   img.onload = function() {\n     resourceCache[url] = img;\n\n     if(Resources.isReady()) {\n       readyCallbacks.forEach(function(func) { func(); });\n     }\n   };\n   resourceCache[url] = false;\n   img.src = url;\n  }\n}\n\nvar Resources = {\n  // Load an image url or an array of image urls\n  load: function(urlOrArr) {\n    if (urlOrArr instanceof Array) {\n      urlOrArr.forEach(function(url) {\n        _load(url);\n      });\n    } else {\n      _load(urlOrArr);\n    }\n  },\n\n  get: function(url) {\n    return resourceCache[url];\n  },\n\n  isReady: function() {\n    var ready = true;\n    for (var k in resourceCache) {\n      if(resourceCache.hasOwnProperty(k) &&\n         !resourceCache[k]) {\n          ready = false;\n      }\n    }\n    return ready;\n  },\n\n  onReady: function(func) {\n    readyCallbacks.push(func);\n  }\n};\n\nmodule.exports = Resources;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/resources.js\n ** module id = 1\n ** module chunks = 0\n **/","var Sprite = require('./sprite.js');\n\nvar State = {\n  player: {\n    pos: [0, 0],\n    sprite: new Sprite('img/sprites.png', [0, 0], [39, 39], 16, [0, 1])\n  },\n\n  bullets: [],\n\n  enemies: [],\n\n  explosions: [],\n\n  lastFire: Date.now(),\n\n  gameTime: 0,\n\n  score: 0\n};\n\nmodule.exports = State;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/state.js\n ** module id = 2\n ** module chunks = 0\n **/","var Resources = require('./resources.js');\n\nvar Sprite = function(url, pos, size, speed, frames, dir, once) {\n  this.pos = pos;\n  this.size = size;\n  this.speed = typeof speed === 'number' ? speed : 0;\n  this.frames = frames;\n  this._index = 0;\n  this.url = url;\n  this.dir = dir || 'horizontal';\n  this.once = once;\n};\n\nSprite.prototype = {\n  update: function(dt) {\n    this._index += this.speed * dt;\n  },\n\n  render: function(ctx) {\n    var frame;\n\n    if(this.speed > 0) {\n      var max = this.frames.length;\n      var idx = Math.floor(this._index);\n      frame = this.frames[idx % max];\n\n      if(this.once && idx >= max) {\n       this.done = true;\n       return;\n      }\n\n    } else {\n     frame = 0;\n    }\n\n    var x = this.pos[0];\n    var y = this.pos[1];\n\n    if (this.dir === 'vertical') {\n      y += frame * this.size[1];\n    }\n    else {\n      x += frame * this.size[0];\n    }\n\n    ctx.drawImage(\n      Resources.get(this.url),\n      x, y,\n      this.size[0], this.size[1],\n      0, 0,\n      this.size[0], this.size[1]\n    );\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/sprite.js\n ** module id = 3\n ** module chunks = 0\n **/","var Starfield = function functionName() {\n  this.width = 512;\n  this.height = 480;\n  this.minVelocity = 15;\n  this.maxVelocity = 30;\n  this.starCount = 100;\n  this.stars = [];\n  this.Star = function (x, y, size, velocity) {\n    this.x = x;\n    this.y = y;\n    this.size = size;\n    this.velocity = velocity;\n  };\n\n  for (var i = 0; i < this.starCount; i++) {\n    this.stars.push(\n      new this.Star(\n        Math.random() * this.width,\n        Math.random() * this.height,\n       (Math.random() * 3) + 1,\n       (Math.random() * (this.maxVelocity - this.minVelocity)) +\n          this.minVelocity\n      )\n    );\n  }\n};\n\nmodule.exports = Starfield;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/starfield.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}