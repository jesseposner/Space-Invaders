{"version":3,"sources":["webpack:///webpack/bootstrap 6e49e0b3248c24917d23","webpack:///./js/invaders.js","webpack:///./js/resources.js","webpack:///./js/state.js","webpack:///./js/sprite.js","webpack:///./js/starfield.js","webpack:///./js/keymaster.min.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;;AAEvB;AACA;AACA;;;;;;;ACnSA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,+CAA8C,QAAQ,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;;;;;;ACpDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA,mBAAkB,kBAAkB,QAAQ,oCAAoC,0BAA0B,oFAAoF,OAAO,mNAAmN,uCAAuC,kBAAkB,8CAA8C,cAAc,QAAQ,KAAK,sBAAsB,2BAA2B,mBAAmB,sCAAsC,SAAS,6BAA6B,qCAAqC,YAAY,YAAY,KAAK,8BAA8B,YAAY,iBAAiB,qDAAqD,kCAAkC,8CAA8C,yBAAyB,yCAAyC,kBAAkB,6BAA6B,oBAAoB,4BAA4B,iBAAiB,gBAAgB,4DAA4D,OAAO,yBAAyB,6CAA6C,8BAA8B,iBAAiB,QAAQ,wBAAwB,KAAK,0BAA0B,+CAA+C,qCAAqC,kHAAkH,2FAA2F,0CAA0C,+CAA+C,6BAA6B,iDAAiD,kDAAkD,8BAA8B,+CAA+C,SAAS,sBAAsB,4BAA4B,iBAAiB,iBAAiB,8DAA8D,0BAA0B,8BAA8B,uCAAuC,qCAAqC,cAAc,kBAAkB,uBAAuB,aAAa,YAAY,YAAY,cAAc,KAAK,QAAQ,uBAAuB,iBAAiB,kBAAkB,wBAAwB,WAAW,cAAc,yCAAyC,qBAAqB,iEAAiE,GAAG,8BAA8B,sCAAsC,0BAA0B,QAAQ,sBAAsB,KAAK,gCAAgC,kBAAkB,mBAAmB,wBAAwB,cAAc,sBAAsB,iBAAiB,oBAAoB,OAAO,QAAQ,wBAAwB,KAAK,sBAAsB,mDAAmD,wBAAwB,4BAA4B,6BAA6B,sBAAsB,oCAAoC,8BAA8B,0BAA0B,uBAAuB,qDAAqD,kEAAkE,uCAAuC,yBAAyB,oBAAoB,oBAAoB,qBAAqB,4BAA4B,mBAAmB,sBAAsB,wBAAwB,QAAQ,kBAAkB,EAAE,kDAAkD,WAAW,sBAAsB,SAAS,0BAA0B,oBAAoB,4BAA4B,yBAAyB,YAAY,sBAAsB,mCAAmC,aAAa,eAAe,mCAAmC,YAAY,uCAAuC,uEAAuE,oEAAoE,qBAAqB,EAAE,4CAA4C,gBAAgB,EAAE,yCAAyC,wCAAwC,2BAA2B,sBAAsB,iBAAiB,uBAAuB,SAAS,qBAAqB,6BAA6B,6BAA6B,mCAAmC,yBAAyB,+BAA+B,iDAAiD,iCAAiC,4BAA4B,iCAAwD,Q","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6e49e0b3248c24917d23\n **/","var Resources = require('./resources.js'),\n    State = require('./state.js'),\n    Sprite = require('./sprite.js'),\n    Starfield = require('./starfield.js'),\n    Key = require('./keymaster.min.js'),\n    enemySpeed = 100,\n    playerSpeed = 200,\n    playerBulletSpeed = 500,\n    enemyBulletSpeed = 300;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  var canvas = document.createElement(\"canvas\");\n  var ctx = canvas.getContext(\"2d\");\n  canvas.width = 512;\n  canvas.height = 600;\n  document.body.appendChild(canvas);\n\n  Resources.load([\n    'img/ufos.png',\n    'img/fighter.png',\n    'img/fighter-bullet.png',\n    'img/explosion.png',\n    'img/enemy-bullet.png'\n  ]);\n  Resources.onReady(init.bind(null, ctx, canvas));\n});\n\nfunction requestAnimFrame(callback) {\n  return window.requestAnimationFrame(callback)        ||\n         window.webkitRequestAnimationFrame(callback)  ||\n         window.mozRequestAnimationFrame(callback)     ||\n         window.oRequestAnimationFrame(callback)       ||\n         window.msRequestAnimationFrame(callback)      ||\n         window.setTimeout(callback, 1000 / 60);\n}\n\nfunction init(ctx, canvas) {\n  var lastTime = Date.now(),\n  starField = new Starfield();\n\n  for (var i = 0; i < 10; i++) {\n    State.enemies.push({\n      pos: [Math.random() * canvas.width,\n            Math.random() * (canvas.height - 300)],\n      sprite: new Sprite(\n        'img/ufos.png',\n        [0, 0],\n        [64, 64],\n        20,\n        [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n      )\n    });\n  }\n\n  setInterval(function () {\n    State.enemies.forEach(function (enemy) {\n      var x = enemy.pos[0];\n      var y = enemy.pos[1] + enemy.sprite.size[1] / 2;\n\n      State.enemyBullets.push({ pos: [x, y], sprite: new Sprite(\n          'img/enemy-bullet.png',\n          [0, 0],\n          [50, 50],\n          15,\n          [\n           0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 14, 13,\n           12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n          ]\n         )\n      });\n    });\n  }, 1000);\n\n  main(ctx, canvas, lastTime, starField);\n}\n\nfunction main(ctx, canvas, lastTime, starField) {\n  var now = Date.now();\n  var dt = (now - lastTime) / 1000.0;\n\n  update(dt, canvas, starField);\n  render(ctx, canvas, starField);\n\n  lastTime = now;\n  requestAnimFrame(main.bind(null, ctx, canvas, lastTime, starField));\n}\n\nfunction render(ctx, canvas, starField) {\n  ctx.fillStyle = '#000000';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  ctx.fillStyle = '#ffffff';\n  starField.stars.forEach(function (star) {\n    ctx.fillRect(star.x, star.y, star.size, star.size);\n  });\n\n  renderEntity(State.player, ctx);\n\n  State.enemies.forEach(function (enemy) {\n    renderEntity(enemy, ctx);\n  });\n\n  State.enemyBullets.forEach(function (bullet) {\n    renderEntity(bullet, ctx);\n  });\n\n  State.playerBullets.forEach(function (bullet) {\n    renderEntity(bullet, ctx);\n  });\n\n  State.explosions.forEach(function (explosion) {\n    renderEntity(explosion, ctx);\n  });\n}\n\nfunction renderEntity(entity, ctx) {\n  ctx.save();\n  ctx.translate(entity.pos[0], entity.pos[1]);\n  entity.sprite.render(ctx);\n  ctx.restore();\n}\n\nfunction update(dt, canvas, starField) {\n  State.gameTime += dt;\n\n  handleInput(dt, canvas);\n  updateEntities(dt, canvas);\n  updateStarfield(dt, starField);\n  checkCollisions();\n}\n\nfunction updateEntities(dt, canvas) {\n  State.player.sprite.update(dt);\n\n  State.explosions.forEach(function (explosion, index) {\n    explosion.sprite.update(dt);\n\n    if (explosion.sprite.done) {\n      State.explosions.splice(index, 1);\n    }\n  });\n\n  State.playerBullets.forEach(function (bullet, index) {\n    bullet.pos[1] -= playerBulletSpeed * dt;\n\n    if (bullet.pos[1] > canvas.height + bullet.sprite.size[1]) {\n      State.playerBullets.splice(index, 1);\n    }\n\n    bullet.sprite.update(dt);\n  });\n\n  State.enemyBullets.forEach(function (bullet, index) {\n    bullet.pos[1] += playerBulletSpeed * dt;\n\n    if (bullet.pos[1] < canvas.height - bullet.sprite.size[1]) {\n      State.playerBullets.splice(index, 1);\n    }\n\n    bullet.sprite.update(dt);\n  });\n\n  State.enemies.forEach(function (enemy) {\n    if (enemy.pos[0] <= 0) {\n      enemy.sprite.orientation = 'right';\n    } else if (\n        enemy.pos[0] >= canvas.width - enemy.sprite.size[0] &&\n        enemy.sprite.orientation === 'right'\n        ) {\n      enemy.sprite.orientation = 'left';\n    }\n\n    if (enemy.sprite.orientation === 'left') {\n      enemy.pos[0] -= enemySpeed * dt;\n    } else {\n      enemy.pos[0] += enemySpeed * dt;\n    }\n\n    enemy.sprite.update(dt);\n  });\n}\n\nfunction updateStarfield(dt, starField) {\n  starField.stars.forEach(function (star) {\n    star.y += dt * star.velocity;\n\n    if (star.y > starField.height) {\n      star.x = Math.random() * starField.width;\n      star.y = 0;\n      star.size = (Math.random() * 3) + 1;\n      star.velocity = (Math.random() *\n        (starField.maxVelocity - starField.minVelocity)) +\n          starField.minVelocity;\n     }\n  });\n}\n\nfunction collides(x, y, r, b, x2, y2, r2, b2) {\n  return !(r <= x2 || x > r2 ||\n           b <= y2 || y > b2);\n}\n\nfunction boxCollides(pos, size, pos2, size2) {\n  return collides(pos[0], pos[1],\n                  pos[0] + size[0], pos[1] + size[1],\n                  pos2[0], pos2[1],\n                  pos2[0] + size2[0], pos2[1] + size2[1]);\n}\n\nfunction checkCollisions() {\n  State.enemyBullets.forEach(function (bullet, bulletIndex) {\n    var playerPos = State.player.pos,\n        playerSize = State.player.sprite.size,\n        bulletPos = bullet.pos,\n        bulletSize = bullet.sprite.size;\n\n    if (boxCollides(playerPos, playerSize, bulletPos, bulletSize)) {\n      State.explosions.push({\n        pos: playerPos,\n        sprite: new Sprite('img/explosion.png',\n                           [0, 0],\n                           [50, 105],\n                           17,\n                           [\n                             0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n                             13, 14, 15, 16, 17\n                           ],\n                           null,\n                           true)\n      });\n      State.enemyBullets.splice(bulletIndex, 1);\n    }\n  });\n\n  State.enemies.forEach(function (enemy, enemyIndex) {\n    var enemyPos = enemy.pos,\n        enemySize = enemy.sprite.size;\n\n    State.playerBullets.forEach(function (bullet, bulletIndex) {\n      var bulletPos = bullet.pos,\n          bulletSize = bullet.sprite.size;\n\n      if (boxCollides(enemyPos, enemySize, bulletPos, bulletSize)) {\n        State.explosions.push({\n          pos: enemyPos,\n          sprite: new Sprite('img/explosion.png',\n                             [0, 0],\n                             [50, 105],\n                             17,\n                             [\n                               0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n                               13, 14, 15, 16, 17\n                             ],\n                             null,\n                             true)\n        });\n        State.enemies.splice(enemyIndex, 1);\n        State.playerBullets.splice(bulletIndex, 1);\n      }\n    });\n  });\n}\n\nfunction handleInput(dt, canvas) {\n  if (Key.isPressed('left') && State.player.pos[0] >= 0) {\n    State.player.pos[0] -= playerSpeed * dt;\n  } else if (\n      Key.isPressed('right') &&\n      State.player.pos[0] <= canvas.width - State.player.sprite.size[0]\n    ) {\n    State.player.pos[0] += playerSpeed * dt;\n  } else if (\n      Key.isPressed('space') && Date.now() - State.lastFire > 300\n    ) {\n    var x = State.player.pos[0];\n    var y = State.player.pos[1] - State.player.sprite.size[1] / 2;\n\n    State.playerBullets.push({ pos: [x, y], sprite: new Sprite(\n                           'img/fighter-bullet.png',\n                           [0, 0],\n                           [50, 120],\n                           15,\n                           [\n                             0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n                             9, 8, 7, 6, 5, 4, 3, 2, 1\n                           ]\n                         )\n                      });\n\n    State.lastFire = Date.now();\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/invaders.js\n ** module id = 0\n ** module chunks = 0\n **/","var resourceCache = {};\nvar loading = [];\nvar readyCallbacks = [];\n\nfunction _load(url) {\n  if (resourceCache[url]) {\n   return resourceCache[url];\n  } else {\n   var img = new Image();\n   img.onload = function() {\n     resourceCache[url] = img;\n\n     if(Resources.isReady()) {\n       readyCallbacks.forEach(function(func) { func(); });\n     }\n   };\n   resourceCache[url] = false;\n   img.src = url;\n  }\n}\n\nvar Resources = {\n  load: function(urlOrArr) {\n    if (urlOrArr instanceof Array) {\n      urlOrArr.forEach(function(url) {\n        _load(url);\n      });\n    } else {\n      _load(urlOrArr);\n    }\n  },\n\n  get: function(url) {\n    return resourceCache[url];\n  },\n\n  isReady: function() {\n    var ready = true;\n    for (var k in resourceCache) {\n      if(resourceCache.hasOwnProperty(k) &&\n         !resourceCache[k]) {\n          ready = false;\n      }\n    }\n    return ready;\n  },\n\n  onReady: function(func) {\n    readyCallbacks.push(func);\n  }\n};\n\nmodule.exports = Resources;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/resources.js\n ** module id = 1\n ** module chunks = 0\n **/","var Sprite = require('./sprite.js');\n\nvar State = {\n  player: {\n    pos: [0, 450],\n    sprite: new Sprite(\n      'img/fighter.png', [0, 0], [50, 135], 15, [\n        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n      ]\n    )\n  },\n\n  playerBullets: [],\n\n  enemyBullets: [],\n\n  enemies: [],\n\n  explosions: [],\n\n  lastFire: Date.now(),\n\n  gameTime: 0,\n\n  score: 0\n};\n\nmodule.exports = State;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/state.js\n ** module id = 2\n ** module chunks = 0\n **/","var Resources = require('./resources.js');\n\nvar Sprite = function(url, pos, size, speed, frames, dir, once) {\n  this.pos = pos;\n  this.size = size;\n  this.speed = typeof speed === 'number' ? speed : 0;\n  this.frames = frames;\n  this._index = 0;\n  this.url = url;\n  this.dir = dir || 'horizontal';\n  this.once = once;\n  this.orientation = 'left';\n};\n\nSprite.prototype = {\n  update: function(dt) {\n    this._index += this.speed * dt;\n  },\n\n  render: function(ctx) {\n    var frame;\n\n    if (this.speed > 0) {\n      var max = this.frames.length;\n      var idx = Math.floor(this._index);\n      frame = this.frames[idx % max];\n\n      if (this.once && idx >= max) {\n       this.done = true;\n       return;\n      }\n\n    } else {\n     frame = 0;\n    }\n\n    var x = this.pos[0];\n    var y = this.pos[1];\n\n    if (this.dir === 'vertical') {\n      y += frame * this.size[1];\n    }\n    else {\n      x += frame * this.size[0];\n    }\n\n    ctx.drawImage(\n      Resources.get(this.url),\n      x, y,\n      this.size[0], this.size[1],\n      0, 0,\n      this.size[0], this.size[1]\n    );\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/sprite.js\n ** module id = 3\n ** module chunks = 0\n **/","var Starfield = function functionName() {\n  this.width = 512;\n  this.height = 600;\n  this.minVelocity = 15;\n  this.maxVelocity = 30;\n  this.starCount = 100;\n  this.stars = [];\n  this.Star = function (x, y, size, velocity) {\n    this.x = x;\n    this.y = y;\n    this.size = size;\n    this.velocity = velocity;\n  };\n\n  for (var i = 0; i < this.starCount; i++) {\n    this.stars.push(\n      new this.Star(\n        Math.random() * this.width,\n        Math.random() * this.height,\n       (Math.random() * 3) + 1,\n       (Math.random() * (this.maxVelocity - this.minVelocity)) +\n          this.minVelocity\n      )\n    );\n  }\n};\n\nmodule.exports = Starfield;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/starfield.js\n ** module id = 4\n ** module chunks = 0\n **/","(function(global){var k,_handlers={},_mods={16:false,18:false,17:false,91:false},_scope=\"all\",_MODIFIERS={\"⇧\":16,shift:16,\"⌥\":18,alt:18,option:18,\"⌃\":17,ctrl:17,control:17,\"⌘\":91,command:91},_MAP={backspace:8,tab:9,clear:12,enter:13,\"return\":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,\"delete\":46,home:36,end:35,pageup:33,pagedown:34,\",\":188,\".\":190,\"/\":191,\"`\":192,\"-\":189,\"=\":187,\";\":186,\"'\":222,\"[\":219,\"]\":221,\"\\\\\":220},code=function(x){return _MAP[x]||x.toUpperCase().charCodeAt(0)},_downKeys=[];for(k=1;k<20;k++)_MAP[\"f\"+k]=111+k;function index(array,item){var i=array.length;while(i--)if(array[i]===item)return i;return-1}function compareArray(a1,a2){if(a1.length!=a2.length)return false;for(var i=0;i<a1.length;i++){if(a1[i]!==a2[i])return false}return true}var modifierMap={16:\"shiftKey\",18:\"altKey\",17:\"ctrlKey\",91:\"metaKey\"};function updateModifierKey(event){for(k in _mods)_mods[k]=event[modifierMap[k]]}function dispatch(event){var key,handler,k,i,modifiersMatch,scope;key=event.keyCode;if(index(_downKeys,key)==-1){_downKeys.push(key)}if(key==93||key==224)key=91;if(key in _mods){_mods[key]=true;for(k in _MODIFIERS)if(_MODIFIERS[k]==key)assignKey[k]=true;return}updateModifierKey(event);if(!assignKey.filter.call(this,event))return;if(!(key in _handlers))return;scope=getScope();for(i=0;i<_handlers[key].length;i++){handler=_handlers[key][i];if(handler.scope==scope||handler.scope==\"all\"){modifiersMatch=handler.mods.length>0;for(k in _mods)if(!_mods[k]&&index(handler.mods,+k)>-1||_mods[k]&&index(handler.mods,+k)==-1)modifiersMatch=false;if(handler.mods.length==0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||modifiersMatch){if(handler.method(event,handler)===false){if(event.preventDefault)event.preventDefault();else event.returnValue=false;if(event.stopPropagation)event.stopPropagation();if(event.cancelBubble)event.cancelBubble=true}}}}}function clearModifier(event){var key=event.keyCode,k,i=index(_downKeys,key);if(i>=0){_downKeys.splice(i,1)}if(key==93||key==224)key=91;if(key in _mods){_mods[key]=false;for(k in _MODIFIERS)if(_MODIFIERS[k]==key)assignKey[k]=false}}function resetModifiers(){for(k in _mods)_mods[k]=false;for(k in _MODIFIERS)assignKey[k]=false}function assignKey(key,scope,method){var keys,mods;keys=getKeys(key);if(method===undefined){method=scope;scope=\"all\"}for(var i=0;i<keys.length;i++){mods=[];key=keys[i].split(\"+\");if(key.length>1){mods=getMods(key);key=[key[key.length-1]]}key=key[0];key=code(key);if(!(key in _handlers))_handlers[key]=[];_handlers[key].push({shortcut:keys[i],scope:scope,method:method,key:keys[i],mods:mods})}}function unbindKey(key,scope){var multipleKeys,keys,mods=[],i,j,obj;multipleKeys=getKeys(key);for(j=0;j<multipleKeys.length;j++){keys=multipleKeys[j].split(\"+\");if(keys.length>1){mods=getMods(keys)}key=keys[keys.length-1];key=code(key);if(scope===undefined){scope=getScope()}if(!_handlers[key]){return}for(i=0;i<_handlers[key].length;i++){obj=_handlers[key][i];if(obj.scope===scope&&compareArray(obj.mods,mods)){_handlers[key][i]={}}}}}function isPressed(keyCode){if(typeof keyCode==\"string\"){keyCode=code(keyCode)}return index(_downKeys,keyCode)!=-1}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(event){var tagName=(event.target||event.srcElement).tagName;return!(tagName==\"INPUT\"||tagName==\"SELECT\"||tagName==\"TEXTAREA\")}for(k in _MODIFIERS)assignKey[k]=false;function setScope(scope){_scope=scope||\"all\"}function getScope(){return _scope||\"all\"}function deleteScope(scope){var key,handlers,i;for(key in _handlers){handlers=_handlers[key];for(i=0;i<handlers.length;){if(handlers[i].scope===scope)handlers.splice(i,1);else i++}}}function getKeys(key){var keys;key=key.replace(/\\s/g,\"\");keys=key.split(\",\");if(keys[keys.length-1]==\"\"){keys[keys.length-2]+=\",\"}return keys}function getMods(key){var mods=key.slice(0,key.length-1);for(var mi=0;mi<mods.length;mi++)mods[mi]=_MODIFIERS[mods[mi]];return mods}function addEvent(object,event,method){if(object.addEventListener)object.addEventListener(event,method,false);else if(object.attachEvent)object.attachEvent(\"on\"+event,function(){method(window.event)})}addEvent(document,\"keydown\",function(event){dispatch(event)});addEvent(document,\"keyup\",clearModifier);addEvent(window,\"focus\",resetModifiers);var previousKey=global.key;function noConflict(){var k=global.key;global.key=previousKey;return k}global.key=assignKey;global.key.setScope=setScope;global.key.getScope=getScope;global.key.deleteScope=deleteScope;global.key.filter=filter;global.key.isPressed=isPressed;global.key.getPressedKeyCodes=getPressedKeyCodes;global.key.noConflict=noConflict;global.key.unbind=unbindKey;if(typeof module!==\"undefined\")module.exports=assignKey})(this);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/keymaster.min.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}